In mathematics, the factorial of a non-negative integer 
  
    
      
        n
      
    
    {\displaystyle n}
  , denoted by 
  
    
      
        n
        !
      
    
    {\displaystyle n!}
  , is the product of all positive integers less than or equal to 
  
    
      
        n
      
    
    {\displaystyle n}
  . The factorial of 
  
    
      
        n
      
    
    {\displaystyle n}
   also equals the product of 
  
    
      
        n
      
    
    {\displaystyle n}
   with the next smaller factorial:

For example,

The value of 0! is 1, according to the convention for an empty product.Factorials have been discovered in several ancient cultures, notably in Indian mathematics in the canonical works of Jain literature, and by Jewish mystics in the Talmudic book Sefer Yetzirah. The factorial operation is encountered in many areas of mathematics, notably in combinatorics, where its most basic use counts the possible distinct sequences – the permutations – of 
  
    
      
        n
      
    
    {\displaystyle n}
   distinct objects: there are 
  
    
      
        n
        !
      
    
    {\displaystyle n!}
   In mathematical analysis, factorials are used in power series for the exponential function and other functions, and they also have applications in algebra, number theory, probability theory, and computer science.
Much of the mathematics of the factorial function was developed beginning in the late 18th and early 19th centuries.
Stirling's approximation provides an accurate approximation to the factorial of large numbers, showing that it grows more quickly than exponential growth. Legendre's formula describes the exponents of the prime numbers in a prime factorization of the factorials, and can be used to count the trailing zeros of the factorials. Daniel Bernoulli and Leonhard Euler interpolated the factorial function to a continuous function of complex numbers, except at the negative integers, the (offset) gamma function.
Many other notable functions and number sequences are closely related to the factorials, including the binomial coefficients, double factorials, falling factorials, primorials, and subfactorials. Implementations of the factorial function are commonly used as an example of different computer programming styles, and are included in scientific calculators and scientific computing software libraries. Although directly computing large factorials using the product formula or recurrence is not efficient, faster algorithms are known, matching to within a constant factor the time for fast multiplication algorithms for numbers with the same number of digits.

History
The concept of factorials has arisen independently in many cultures:

In Indian mathematics, one of the earliest known descriptions of factorials comes from the Anuyogadvāra-sūtra, one of the canonical works of Jain literature, which has been assigned dates varying from 300 BCE to 400 CE. It separates out the sorted and reversed order of a set of items from the other ("mixed") orders, evaluating the number of mixed orders by subtracting two from the usual product formula for the factorial. The product rule for permutations was also described by 6th-century CE Jain monk Jinabhadra. Hindu scholars have been using factorial formulas since at least 1150, when Bhāskara II mentioned factorials in his work Līlāvatī, in connection with a problem of how many ways Vishnu could hold his four characteristic objects (a conch shell, discus, mace, and lotus flower) in his four hands, and a similar problem for a ten-handed god.
In the mathematics of the Middle East, the Hebrew mystic book of creation Sefer Yetzirah, from the Talmudic period (200 to 500 CE), lists factorials up to 7! as part of an investigation into the number of words that can be formed from the Hebrew alphabet. Factorials were also studied for similar reasons by 8th-century Arab grammarian Al-Khalil ibn Ahmad al-Farahidi. Arab mathematician Ibn al-Haytham (also known as Alhazen, c. 965 – c. 1040) was the first to formulate Wilson's theorem connecting the factorials with the prime numbers.
In Europe, although Greek mathematics included some combinatorics, and Plato famously used 5,040 (a factorial) as the population of an ideal community, in part because of its divisibility properties, there is no direct evidence of ancient Greek study of factorials. Instead, the first work on factorials in Europe was by Jewish scholars such as Shabbethai Donnolo, explicating the Sefer Yetzirah passage. In 1677, British author Fabian Stedman described the application of factorials to change ringing, a musical art involving the ringing of several tuned bells.From the late 15th century onward, factorials became the subject of study by Western mathematicians. In a 1494 treatise, Italian mathematician Luca Pacioli calculated factorials up to 11!, in connection with a problem of dining table arrangements. Christopher Clavius discussed factorials in a 1603 commentary on the work of Johannes de Sacrobosco, and in the 1640s, French polymath Marin Mersenne published large (but not entirely correct) tables of factorials, up to 64!, based on the work of Clavius. The power series for the exponential function, with the reciprocals of factorials for its coefficients, was first formulated in 1676 by Isaac Newton in a letter to Gottfried Wilhelm Leibniz. Other important works of early European mathematics on factorials include extensive coverage in a 1685 treatise by John Wallis, a study of their approximate values for large values of 
  
    
      
        n
      
    
    {\displaystyle n}
   by Abraham de Moivre in 1721, a 1729 letter from James Stirling to de Moivre stating what became known as Stirling's approximation, and work at the same time by Daniel Bernoulli and Leonhard Euler formulating the continuous extension of the factorial function to the gamma function. Adrien-Marie Legendre included Legendre's formula, describing the exponents in the factorization of factorials into prime powers, in an 1808 text on number theory.The notation 
  
    
      
        n
        !
      
    
    {\displaystyle n!}
   for factorials was introduced by the French mathematician Christian Kramp in 1808. Many other notations have also been used. Another later notation, in which the argument of the factorial was half-enclosed by the left and bottom sides of a box, was popular for some time in Britain and America but fell out of use, perhaps because it is difficult to typeset. The word "factorial" (originally French: factorielle) was first used in 1800 by Louis François Antoine Arbogast, in the first work on Faà di Bruno's formula, but referring to a more general concept of products of arithmetic progressions. The "factors" that this name refers to are the terms of the product formula for the factorial.

Definition
The factorial function of a positive integer 
  
    
      
        n
      
    
    {\displaystyle n}
   is defined by the product of all positive integers not greater than 
  
    
      
        n
      
    
    {\displaystyle n}
  
This may be written more concisely in product notation as
If this product formula is changed to keep all but the last term, it would define a product of the same form, for a smaller factorial. This leads to a recurrence relation, according to which each value of the factorial function can be obtained by multiplying the previous value by 
  
    
      
        n
      
    
    {\displaystyle n}
  :

For example, 
  
    
      
        5
        !
        =
        5
        ⋅
        4
        !
        =
        5
        ⋅
        24
        =
        120
      
    
    {\displaystyle 5!=5\cdot 4!=5\cdot 24=120}
  .

Factorial of zero
The factorial of 
  
    
      
        0
      
    
    {\displaystyle 0}
   is 
  
    
      
        1
      
    
    {\displaystyle 1}
  , or in symbols, 
  
    
      
        0
        !
        =
        1
      
    
    {\displaystyle 0!=1}
  . There are several motivations for this definition:

For 
  
    
      
        n
        =
        0
      
    
    {\displaystyle n=0}
  , the definition of 
  
    
      
        n
        !
      
    
    {\displaystyle n!}
   as a product involves the product of no numbers at all, and so is an example of the broader convention that the empty product, a product of no factors, is equal to the multiplicative identity.
There is exactly one permutation of zero objects: with nothing to permute, the only rearrangement is to do nothing.
This convention makes many identities in combinatorics valid for all valid choices of their parameters. For instance, the number of ways to choose all 
  
    
      
        n
      
    
    {\displaystyle n}
   elements from a set of 
  
    
      
        n
      
    
    {\displaystyle n}
   is 
  
    
      
        
          
            
              
                (
              
              
                n
                n
              
              
                )
              
            
          
        
        =
        
          
            
              
                n
                !
              
              
                n
                !
                0
                !
              
            
          
        
        =
        1
        ,
      
    
    {\textstyle {\tbinom {n}{n}}={\tfrac {n!}{n!0!}}=1,}
   a binomial coefficient identity that would only be valid with 
  
    
      
        0
        !
        =
        1
      
    
    {\displaystyle 0!=1}
  .
With 
  
    
      
        0
        !
        =
        1
      
    
    {\displaystyle 0!=1}
  , the recurrence relation for the factorial remains valid at 
  
    
      
        n
        =
        1
      
    
    {\displaystyle n=1}
  . Therefore, with this convention, a recursive computation of the factorial needs to have only the value for zero as a base case, simplifying the computation and avoiding the need for additional special cases.
Setting 
  
    
      
        0
        !
        =
        1
      
    
    {\displaystyle 0!=1}
   allows for the compact expression of many formulae, such as the exponential function, as a power series: 
  
    
      
        
          e
          
            x
          
        
        =
        
          ∑
          
            n
            =
            0
          
          
            ∞
          
        
        
          
            
              x
              
                n
              
            
            
              n
              !
            
          
        
        .
      
    
    {\textstyle e^{x}=\sum _{n=0}^{\infty }{\frac {x^{n}}{n!}}.}
  
This choice matches the gamma function 
  
    
      
        0
        !
        =
        Γ
        (
        0
        +
        1
        )
        =
        1
      
    
    {\displaystyle 0!=\Gamma (0+1)=1}
  , and the gamma function must have this value to be a continuous function.

Applications
The earliest uses of the factorial function involve counting permutations: there are 
  
    
      
        n
        !
      
    
    {\displaystyle n!}
   different ways of arranging 
  
    
      
        n
      
    
    {\displaystyle n}
   distinct objects into a sequence. Factorials appear more broadly in many formulas in combinatorics, to account for different orderings of objects. For instance the binomial coefficients 
  
    
      
        
          
            
              
                (
              
              
                n
                k
              
              
                )
              
            
          
        
      
    
    {\displaystyle {\tbinom {n}{k}}}
   count the 
  
    
      
        k
      
    
    {\displaystyle k}
  -element combinations (subsets of 
  
    
      
        k
      
    
    {\displaystyle k}
   elements) from a set with 
  
    
      
        n
      
    
    {\displaystyle n}
   elements, and can be computed from factorials using the formula  The Stirling numbers of the first kind sum to the factorials, and count the permutations of 
  
    
      
        n
      
    
    {\displaystyle n}
   grouped into subsets with the same numbers of cycles. Another combinatorial application is in counting derangements, permutations that do not leave any element in its original position; the number of derangements of 
  
    
      
        n
      
    
    {\displaystyle n}
   items is the nearest integer to 
  
    
      
        n
        !
        
          /
        
        e
      
    
    {\displaystyle n!/e}
  .
In algebra, the factorials arise through the binomial theorem, which uses binomial coefficients to expand powers of sums. They also occur in the coefficients used to relate certain families of polynomials to each other, for instance in Newton's identities for symmetric polynomials. Their use in counting permutations can also be restated algebraically: the factorials are the orders of finite symmetric groups. In calculus, factorials occur in Faà di Bruno's formula for chaining higher derivatives. In mathematical analysis, factorials frequently appear in the denominators of power series, most notably in the series for the exponential function, 
and in the coefficients of other Taylor series (in particular those of the trigonometric and hyperbolic functions), where they cancel factors of 
  
    
      
        n
        !
      
    
    {\displaystyle n!}
   coming from the 
  
    
      
        n
      
    
    {\displaystyle n}
  th derivative of 
  
    
      
        
          x
          
            n
          
        
      
    
    {\displaystyle x^{n}}
  . This usage of factorials in power series connects back to analytic combinatorics through the exponential generating function, which for a combinatorial class with 
  
    
      
        
          n
          
            i
          
        
      
    
    {\displaystyle n_{i}}
   elements of size 
  
    
      
        i
      
    
    {\displaystyle i}
   is defined as the power series 
In number theory, the most salient property of factorials is the divisibility of 
  
    
      
        n
        !
      
    
    {\displaystyle n!}
   by all positive integers up to 
  
    
      
        n
      
    
    {\displaystyle n}
  , described more precisely for prime factors by Legendre's formula. It follows that arbitrarily large prime numbers can be found as the prime factors of the numbers

  
    
      
        n
        !
        ±
        1
      
    
    {\displaystyle n!\pm 1}
  , leading to a proof of Euclid's theorem that the number of primes is infinite. When 
  
    
      
        n
        !
        ±
        1
      
    
    {\displaystyle n!\pm 1}
   is itself prime it is called a factorial prime; relatedly, Brocard's problem, also posed by Srinivasa Ramanujan, concerns the existence of square numbers of the form 
  
    
      
        n
        !
        +
        1
      
    
    {\displaystyle n!+1}
  . In contrast, the numbers 
  
    
      
        n
        !
        +
        2
        ,
        n
        !
        +
        3
        ,
        …
        n
        !
        +
        n
      
    
    {\displaystyle n!+2,n!+3,\dots n!+n}
   must all be composite, proving the existence of arbitrarily large prime gaps. An elementary proof of Bertrand's postulate on the existence of a prime in any interval of the form 
  
    
      
        [
        n
        ,
        2
        n
        ]
      
    
    {\displaystyle [n,2n]}
  , one of the first results of Paul Erdős, was based on the divisibility properties of factorials. The factorial number system is a mixed radix notation for numbers in which the place values of each digit are factorials.Factorials are used extensively in probability theory, for instance in the Poisson distribution and in the probabilities of random permutations. In computer science, beyond appearing in the analysis of brute-force searches over permutations, factorials arise in the lower bound of 
  
    
      
        
          log
          
            2
          
        
        ⁡
        n
        !
        =
        n
        
          log
          
            2
          
        
        ⁡
        n
        −
        O
        (
        n
        )
      
    
    {\displaystyle \log _{2}n!=n\log _{2}n-O(n)}
   on the number of comparisons needed to comparison sort a set of 
  
    
      
        n
      
    
    {\displaystyle n}
   items, and in the analysis of chained hash tables, where the distribution of keys per cell can be accurately approximated by a Poisson distribution. Moreover, factorials naturally appear in formulae from quantum and statistical physics, where one often considers all the possible permutations of a set of particles. In statistical mechanics, calculations of entropy such as Boltzmann's entropy formula or the Sackur–Tetrode equation must correct the count of microstates by dividing by the factorials of the numbers of each type of indistinguishable particle to avoid the Gibbs paradox. Quantum physics provides the underlying reason for why these corrections are necessary.

Properties
Growth and approximation
As a function of 
  
    
      
        n
      
    
    {\displaystyle n}
  , the factorial has faster than exponential growth, but grows more slowly than a double exponential function. Its growth rate is similar to 
  
    
      
        
          n
          
            n
          
        
      
    
    {\displaystyle n^{n}}
  , but slower by an exponential factor. One way of approaching this result is by taking the natural logarithm of the factorial, which turns its product formula into a sum, and then estimating the sum by an integral:

Exponentiating the result (and ignoring the negligible 
  
    
      
        +
        1
      
    
    {\displaystyle +1}
   term) approximates 
  
    
      
        n
        !
      
    
    {\displaystyle n!}
   as 
  
    
      
        (
        n
        
          /
        
        e
        
          )
          
            n
          
        
      
    
    {\displaystyle (n/e)^{n}}
  .
More carefully bounding the sum both above and below by an integral, using the trapezoid rule, shows that this estimate needs a correction factor proportional to 
  
    
      
        
          
            n
          
        
      
    
    {\displaystyle {\sqrt {n}}}
  . The constant of proportionality for this correction can be found from the Wallis product, which expresses 
  
    
      
        π
      
    
    {\displaystyle \pi }
   as a limiting ratio of factorials and powers of two. The result of these corrections is Stirling's approximation:
Here, the 
  
    
      
        ∼
      
    
    {\displaystyle \sim }
   symbol means that, as 
  
    
      
        n
      
    
    {\displaystyle n}
   goes to infinity, the ratio between the left and right sides approaches one in the limit.
Stirling's formula provides the first term in an asymptotic series that becomes even more accurate when taken to greater numbers of terms:
An alternative version uses only odd exponents in the correction terms:
Many other variations of these formulas have also been developed, by Srinivasa Ramanujan, Bill Gosper, and others.The binary logarithm of the factorial, used to analyze comparison sorting, can be very accurately estimated using Stirling's approximation. In the formula below, the 
  
    
      
        O
        (
        1
        )
      
    
    {\displaystyle O(1)}
   term invokes big O notation.

Divisibility and digits
The product formula for the factorial implies that 
  
    
      
        n
        !
      
    
    {\displaystyle n!}
   is divisible by all prime numbers that are at most 
  
    
      
        n
      
    
    {\displaystyle n}
  , and by no larger prime numbers. More precise information about its divisibility is given by Legendre's formula, which gives the exponent of each prime 
  
    
      
        p
      
    
    {\displaystyle p}
   in the prime factorization of 
  
    
      
        n
        !
      
    
    {\displaystyle n!}
   as
Here 
  
    
      
        
          s
          
            p
          
        
        (
        n
        )
      
    
    {\displaystyle s_{p}(n)}
   denotes the sum of the base-
  
    
      
        p
      
    
    {\displaystyle p}
   digits of 
  
    
      
        n
      
    
    {\displaystyle n}
  , and the exponent given by this formula can also be interpreted in advanced mathematics as the p-adic valuation of the factorial. Applying Legendre's formula to the product formula for binomial coefficients produces Kummer's theorem, a similar result on the exponent of each prime in the factorization of a binomial coefficient. Grouping the prime factors of the factorial into prime powers in different ways produces the multiplicative partitions of factorials.The special case of Legendre's formula for 
  
    
      
        p
        =
        5
      
    
    {\displaystyle p=5}
   gives the number of trailing zeros in the decimal representation of the factorials. According to this formula, the number of zeros can be obtained by subtracting the base-5 digits of 
  
    
      
        n
      
    
    {\displaystyle n}
   from 
  
    
      
        n
      
    
    {\displaystyle n}
  , and dividing the result by four. Legendre's formula implies that the exponent of the prime 
  
    
      
        p
        =
        2
      
    
    {\displaystyle p=2}
   is always larger than the exponent for 
  
    
      
        p
        =
        5
      
    
    {\displaystyle p=5}
  , so each factor of five can be paired with a factor of two to produce one of these trailing zeros. The leading digits of the factorials are distributed according to Benford's law. Every sequence of digits, in any base, is the sequence of initial digits of some factorial number in that base.Another result on divisibility of factorials, Wilson's theorem, states that 
  
    
      
        (
        n
        −
        1
        )
        !
        +
        1
      
    
    {\displaystyle (n-1)!+1}
   is divisible by 
  
    
      
        n
      
    
    {\displaystyle n}
   if and only if 
  
    
      
        n
      
    
    {\displaystyle n}
   is a prime number. For any given integer 
  
    
      
        x
      
    
    {\displaystyle x}
  , the Kempner function of 
  
    
      
        x
      
    
    {\displaystyle x}
   is given by the smallest 
  
    
      
        n
      
    
    {\displaystyle n}
   for which 
  
    
      
        x
      
    
    {\displaystyle x}
   divides 
  
    
      
        n
        !
      
    
    {\displaystyle n!}
  . For almost all numbers (all but a subset of exceptions with asymptotic density zero), it coincides with the largest prime factor of 
  
    
      
        x
      
    
    {\displaystyle x}
  .
The product of two factorials, 
  
    
      
        m
        !
        ⋅
        n
        !
      
    
    {\displaystyle m!\cdot n!}
  , always evenly divides 
  
    
      
        (
        m
        +
        n
        )
        !
      
    
    {\displaystyle (m+n)!}
  . There are infinitely many factorials that equal the product of other factorials: if 
  
    
      
        n
      
    
    {\displaystyle n}
   is itself any product of factorials, then 
  
    
      
        n
        !
      
    
    {\displaystyle n!}
   equals that same product multiplied by one more factorial, 
  
    
      
        (
        n
        −
        1
        )
        !
      
    
    {\displaystyle (n-1)!}
  . The only known examples of factorials that are products of other factorials but are not of this "trivial" form are 
  
    
      
        9
        !
        =
        7
        !
        ⋅
        3
        !
        ⋅
        3
        !
        ⋅
        2
        !
      
    
    {\displaystyle 9!=7!\cdot 3!\cdot 3!\cdot 2!}
  , 
  
    
      
        10
        !
        =
        7
        !
        ⋅
        6
        !
        =
        7
        !
        ⋅
        5
        !
        ⋅
        3
        !
      
    
    {\displaystyle 10!=7!\cdot 6!=7!\cdot 5!\cdot 3!}
  , and 
  
    
      
        16
        !
        =
        14
        !
        ⋅
        5
        !
        ⋅
        2
        !
      
    
    {\displaystyle 16!=14!\cdot 5!\cdot 2!}
  . It would follow from the abc conjecture that there are only finitely many nontrivial examples.The greatest common divisor of the values of a primitive polynomial of degree 
  
    
      
        d
      
    
    {\displaystyle d}
   over the integers evenly divides 
  
    
      
        d
        !
      
    
    {\displaystyle d!}
  .

Continuous interpolation and non-integer generalization
There are infinitely many ways to extend the factorials to a continuous function. The most widely used of these uses the gamma function, which can be defined for positive real numbers as the integral

The resulting function is related to the factorial of a non-negative integer 
  
    
      
        n
      
    
    {\displaystyle n}
   by the equation

which can be used as a definition of the factorial for non-integer arguments.
At all values 
  
    
      
        x
      
    
    {\displaystyle x}
   for which both 
  
    
      
        Γ
        (
        x
        )
      
    
    {\displaystyle \Gamma (x)}
   and 
  
    
      
        Γ
        (
        x
        −
        1
        )
      
    
    {\displaystyle \Gamma (x-1)}
   are defined, the gamma function obeys the functional equation

generalizing the recurrence relation for the factorials.The same integral converges more generally for any complex number 
  
    
      
        z
      
    
    {\displaystyle z}
   whose real part is positive. It can be extended to the non-integer points in the rest of the complex plane by solving for Euler's reflection formula

However, this formula cannot be used at integers because, for them, the 
  
    
      
        sin
        ⁡
        π
        z
      
    
    {\displaystyle \sin \pi z}
   term would produce a division by zero. The result of this extension process is an analytic function, the analytic continuation of the integral formula for the gamma function. It has a nonzero value at all complex numbers, except for the non-positive integers where it has simple poles. Correspondingly, this provides a definition for the factorial at all complex numbers other than the negative integers.
One property of the gamma function, distinguishing it from other continuous interpolations of the factorials, is given by the Bohr–Mollerup theorem, which states that the gamma function (offset by one) is the only log-convex function on the positive real numbers that interpolates the factorials and obeys the same functional equation. A related uniqueness theorem of Helmut Wielandt states that the complex gamma function and its scalar multiples are the only holomorphic functions on the positive complex half-plane that obey the functional equation and remain bounded for complex numbers with real part between 1 and 2.Other complex functions that interpolate the factorial values include Hadamard's gamma function, which is an entire function over all the complex numbers, including the non-positive integers. In the p-adic numbers, it is not possible to continuously interpolate the factorial function directly, because the factorials of large integers (a dense subset of the p-adics) converge to zero according to Legendre's formula, forcing any continuous function that is close to their values to be zero everywhere. Instead, the p-adic gamma function provides a continuous interpolation of a modified form of the factorial, omitting the factors in the factorial that are divisible by p.The digamma function is the logarithmic derivative of the gamma function. Just as the gamma function provides a continuous interpolation of the factorials, offset by one, the digamma function provides a continuous interpolation of the harmonic numbers, offset by the Euler–Mascheroni constant.

Computation
The factorial function is a common feature in scientific calculators. It is also included in scientific programming libraries such as the Python mathematical functions module and the Boost C++ library. If efficiency is not a concern, computing factorials is trivial: just successively multiply a variable initialized to 
  
    
      
        1
      
    
    {\displaystyle 1}
   by the integers up to 
  
    
      
        n
      
    
    {\displaystyle n}
  . The simplicity of this computation makes it a common example in the use of different computer programming styles and methods.The computation of 
  
    
      
        n
        !
      
    
    {\displaystyle n!}
   can be expressed in pseudocode using iteration as

define factorial(n):
  f := 1
  for i := 1, 2, 3, ..., n:
    f := f * i
  return f

or using recursion based on its recurrence relation as

define factorial(n):
  if (n = 0) return 1
  return n * factorial(n − 1)

Other methods suitable for its computation include memoization, dynamic programming, and functional programming. The computational complexity of these algorithms may be analyzed using the unit-cost random-access machine model of computation, in which each arithmetic operation takes constant time and each number uses a constant amount of storage space. In this model, these methods can compute 
  
    
      
        n
        !
      
    
    {\displaystyle n!}
   in time 
  
    
      
        O
        (
        n
        )
      
    
    {\displaystyle O(n)}
  , and the iterative version uses space 
  
    
      
        O
        (
        1
        )
      
    
    {\displaystyle O(1)}
  . Unless optimized for tail recursion, the recursive version takes linear space to store its call stack. However, this model of computation is only suitable when 
  
    
      
        n
      
    
    {\displaystyle n}
   is small enough to allow 
  
    
      
        n
        !
      
    
    {\displaystyle n!}
   to fit into a machine word. The values 12! and 20! are the largest factorials that can be stored in, respectively, the 32-bit and 64-bit integers. Floating point can represent larger factorials, but approximately rather than exactly, and will still overflow for factorials larger than 
  
    
      
        170
        !
      
    
    {\displaystyle 170!}
  .
The exact computation of larger factorials involves arbitrary-precision arithmetic, because of fast growth and integer overflow.  Time of computation can be analyzed as a function of the number of digits or bits in the result. By Stirling's formula, 
  
    
      
        n
        !
      
    
    {\displaystyle n!}
   has 
  
    
      
        b
        =
        O
        (
        n
        log
        ⁡
        n
        )
      
    
    {\displaystyle b=O(n\log n)}
   bits. The Schönhage–Strassen algorithm can produce a 
  
    
      
        b
      
    
    {\displaystyle b}
  -bit product in time 
  
    
      
        O
        (
        b
        log
        ⁡
        b
        log
        ⁡
        log
        ⁡
        b
        )
      
    
    {\displaystyle O(b\log b\log \log b)}
  , and faster multiplication algorithms taking time 
  
    
      
        O
        (
        b
        log
        ⁡
        b
        )
      
    
    {\displaystyle O(b\log b)}
   are known. However, computing the factorial involves repeated products, rather than a single multiplication, so these time bounds do not apply directly.  In this setting, computing 
  
    
      
        n
        !
      
    
    {\displaystyle n!}
   by multiplying the numbers from 1 to 
  
    
      
        n
      
    
    {\displaystyle n}
   in sequence is inefficient, because it involves 
  
    
      
        n
      
    
    {\displaystyle n}
   multiplications, a constant fraction of which take time 
  
    
      
        O
        (
        n
        
          log
          
            2
          
        
        ⁡
        n
        )
      
    
    {\displaystyle O(n\log ^{2}n)}
   each, giving total time 
  
    
      
        O
        (
        
          n
          
            2
          
        
        
          log
          
            2
          
        
        ⁡
        n
        )
      
    
    {\displaystyle O(n^{2}\log ^{2}n)}
  . A better approach is to perform the multiplications as a divide-and-conquer algorithm that multiplies a sequence of 
  
    
      
        i
      
    
    {\displaystyle i}
   numbers by splitting it into two subsequences of 
  
    
      
        i
        
          /
        
        2
      
    
    {\displaystyle i/2}
   numbers, multiplies each subsequence, and combines the results with one last multiplication. This approach to the factorial takes total time 
  
    
      
        O
        (
        n
        
          log
          
            3
          
        
        ⁡
        n
        )
      
    
    {\displaystyle O(n\log ^{3}n)}
  : one logarithm comes from the number of bits in the factorial, a second comes from the multiplication algorithm, and a third comes from the divide and conquer.Even better efficiency is obtained by computing n! from its prime factorization, based on the principle that exponentiation by squaring is faster than expanding an exponent into a product. An algorithm for this by Arnold Schönhage begins by finding the list of the primes up to 
  
    
      
        n
      
    
    {\displaystyle n}
  , for instance using the sieve of Eratosthenes, and uses Legendre's formula to compute the exponent for each prime. Then it computes the product of the prime powers with these exponents, using a recursive algorithm, as follows:

Use divide and conquer to compute the product of the primes whose exponents are odd
Divide all of the exponents by two (rounding down to an integer), recursively compute the product of the prime powers with these smaller exponents, and square the result
Multiply together the results of the two previous stepsThe product of all primes up to 
  
    
      
        n
      
    
    {\displaystyle n}
   is an 
  
    
      
        O
        (
        n
        )
      
    
    {\displaystyle O(n)}
  -bit number, by the prime number theorem, so the time for the first step is 
  
    
      
        O
        (
        n
        
          log
          
            2
          
        
        ⁡
        n
        )
      
    
    {\displaystyle O(n\log ^{2}n)}
  , with one logarithm coming from the divide and conquer and another coming from the multiplication algorithm. In the recursive calls to the algorithm, the prime number theorem can again be invoked to prove that the numbers of bits in the corresponding products decrease by a constant factor at each level of recursion, so the total time for these steps at all levels of recursion adds in a geometric series to 
  
    
      
        O
        (
        n
        
          log
          
            2
          
        
        ⁡
        n
        )
      
    
    {\displaystyle O(n\log ^{2}n)}
  . The time for the squaring in the second step and the multiplication in the third step are again 
  
    
      
        O
        (
        n
        
          log
          
            2
          
        
        ⁡
        n
        )
      
    
    {\displaystyle O(n\log ^{2}n)}
  , because each is a single multiplication of a number with 
  
    
      
        O
        (
        n
        log
        ⁡
        n
        )
      
    
    {\displaystyle O(n\log n)}
   bits. Again, at each level of recursion the numbers involved have a constant fraction as many bits (because otherwise repeatedly squaring them would produce too large a final result) so again the amounts of time for these steps in the recursive calls add in a geometric series to 
  
    
      
        O
        (
        n
        
          log
          
            2
          
        
        ⁡
        n
        )
      
    
    {\displaystyle O(n\log ^{2}n)}
  . Consequentially, the whole algorithm takes time 
  
    
      
        O
        (
        n
        
          log
          
            2
          
        
        ⁡
        n
        )
      
    
    {\displaystyle O(n\log ^{2}n)}
  , proportional to a single multiplication with the same number of bits in its result.

Related sequences and functions
Several other integer sequences are similar to or related to the factorials:

Alternating factorial
The alternating factorial is the absolute value of the alternating sum of the first 
  
    
      
        n
      
    
    {\displaystyle n}
   factorials, 
  
    
      
        
          ∑
          
            i
            =
            1
          
          
            n
          
        
        (
        −
        1
        
          )
          
            n
            −
            i
          
        
        i
        !
      
    
    {\textstyle \sum _{i=1}^{n}(-1)^{n-i}i!}
  . These have mainly been studied in connection with their primality; only finitely many of them can be prime, but a complete list of primes of this form is not known.
Bhargava factorial
The Bhargava factorials are a family of integer sequences defined by Manjul Bhargava with similar number-theoretic properties to the factorials, including the factorials themselves as a special case.
Double factorial
The product of all the odd integers up to some odd positive integer 
  
    
      
        n
      
    
    {\displaystyle n}
   is called the double factorial of 
  
    
      
        n
      
    
    {\displaystyle n}
  , and denoted by 
  
    
      
        n
        !
        !
      
    
    {\displaystyle n!!}
  . That is,  For example, 9!! = 1 × 3 × 5  × 7 × 9 = 945. Double factorials are used in trigonometric integrals, in expressions for the gamma function at half-integers and the volumes of hyperspheres, and in counting binary trees and perfect matchings.
Exponential factorial
Just as triangular numbers sum the numbers from 
  
    
      
        1
      
    
    {\displaystyle 1}
   to 
  
    
      
        n
      
    
    {\displaystyle n}
  , and factorials take their product, the exponential factorial exponentiates. The exponential factorial is defined recursively as 
  
    
      
        
          a
          
            0
          
        
        =
        1
        ,
         
        
          a
          
            n
          
        
        =
        
          n
          
            
              a
              
                n
                −
                1
              
            
          
        
      
    
    {\displaystyle a_{0}=1,\ a_{n}=n^{a_{n-1}}}
  . For example, the exponential factorial of 4 is  These numbers grow much more quickly than regular factorials.
Falling factorial
The notations 
  
    
      
        (
        x
        
          )
          
            n
          
        
      
    
    {\displaystyle (x)_{n}}
   or 
  
    
      
        
          x
          
            
              n
              _
            
          
        
      
    
    {\displaystyle x^{\underline {n}}}
   are sometimes used to represent the product of the 
  
    
      
        n
      
    
    {\displaystyle n}
   integers counting up to and including 
  
    
      
        x
      
    
    {\displaystyle x}
  , equal to 
  
    
      
        x
        !
        
          /
        
        (
        x
        −
        n
        )
        !
      
    
    {\displaystyle x!/(x-n)!}
  . This is also known as a falling factorial or backward factorial, and the 
  
    
      
        (
        x
        
          )
          
            n
          
        
      
    
    {\displaystyle (x)_{n}}
   notation is a Pochhammer symbol. Falling factorials count the number of different sequences of 
  
    
      
        n
      
    
    {\displaystyle n}
   distinct items that can be drawn from a universe of 
  
    
      
        x
      
    
    {\displaystyle x}
   items. They occur as coefficients in the higher derivatives of polynomials, and in the factorial moments of random variables.
Hyperfactorials
The hyperfactorial of 
  
    
      
        n
      
    
    {\displaystyle n}
   is the product 
  
    
      
        
          1
          
            1
          
        
        ⋅
        
          2
          
            2
          
        
        ⋯
        
          n
          
            n
          
        
      
    
    {\displaystyle 1^{1}\cdot 2^{2}\cdots n^{n}}
  . These numbers form the discriminants of Hermite polynomials. They can be continuously interpolated by the K-function, and obey analogues to Stirling's formula and Wilson's theorem.
Jordan–Pólya numbers
The Jordan–Pólya numbers are the products of factorials, allowing repetitions. Every tree has a symmetry group whose number of symmetries is a Jordan–Pólya number, and every Jordan–Pólya number counts the symmetries of some tree.
Primorial
The primorial 
  
    
      
        n
        #
      
    
    {\displaystyle n\#}
   is the product of prime numbers less than or equal to 
  
    
      
        n
      
    
    {\displaystyle n}
  ; this construction gives them some similar divisibility properties to factorials, but unlike factorials they are squarefree. As with the factorial primes 
  
    
      
        n
        !
        ±
        1
      
    
    {\displaystyle n!\pm 1}
  , researchers have studied primorial primes 
  
    
      
        n
        #
        ±
        1
      
    
    {\displaystyle n\#\pm 1}
  .
Subfactorial
The subfactorial yields the number of derangements of a set of 
  
    
      
        n
      
    
    {\displaystyle n}
   objects. It is sometimes denoted 
  
    
      
        !
        n
      
    
    {\displaystyle !n}
  , and equals the closest integer to 
  
    
      
        n
        !
        
          /
        
        e
      
    
    {\displaystyle n!/e}
  .
Superfactorial
The superfactorial of 
  
    
      
        n
      
    
    {\displaystyle n}
   is the product of the first 
  
    
      
        n
      
    
    {\displaystyle n}
   factorials. The superfactorials are continuously interpolated by the Barnes G-function.

References
External links

OEIS sequence A000142 (Factorial numbers)
"Factorial". Encyclopedia of Mathematics. EMS Press. 2001 [1994].
Weisstein, Eric W. "Factorial". MathWorld.