Kirkman's schoolgirl problem is a problem in combinatorics proposed by Thomas Penyngton Kirkman in 1850 as Query VI in The Lady's and Gentleman's Diary (pg.48).  The problem states:

Fifteen young ladies in a school walk out three abreast for seven days in succession: it is required to arrange them daily so that no two shall walk twice abreast.

Solutions
A solution to this problem is an example of a Kirkman triple system, which is a Steiner triple system having a parallelism, that is, a partition of the blocks of the triple system into parallel classes which are themselves partitions of the points into disjoint blocks. Such Steiner systems that have a parallelism are also called resolvable.
There are exactly seven non-isomorphic solutions to the schoolgirl problem, as originally listed by Frank Nelson Cole in Kirkman Parades in 1922. The seven solutions are summarized in the table below, denoting the 15 girls with the letters A to O.

From the number of automorphisms for each solution and the definition of an automorphism group, the total number of solutions including isomorphic solutions is therefore:

  
    
      
        15
        !
        ×
        
          (
          
            
              
                1
                168
              
            
            +
            
              
                1
                168
              
            
            +
            
              
                1
                24
              
            
            +
            
              
                1
                24
              
            
            +
            
              
                1
                12
              
            
            +
            
              
                1
                12
              
            
            +
            
              
                1
                21
              
            
          
          )
        
      
    
    {\displaystyle 15!\times \left({\frac {1}{168}}+{\frac {1}{168}}+{\frac {1}{24}}+{\frac {1}{24}}+{\frac {1}{12}}+{\frac {1}{12}}+{\frac {1}{21}}\right)}
  

  
    
      
        =
        15
        !
        ×
        
          
            13
            42
          
        
      
    
    {\displaystyle =15!\times {\frac {13}{42}}}
  

  
    
      
        =
        404
        ,
        756
        ,
        352
        ,
        000
      
    
    {\displaystyle =404,756,352,000}
  

  
    
      
        =
        
          2
          
            10
          
        
        ×
        
          3
          
            5
          
        
        ×
        
          5
          
            3
          
        
        ×
        7
        ×
        11
        ×
        
          13
          
            2
          
        
      
    
    {\displaystyle =2^{10}\times 3^{5}\times 5^{3}\times 7\times 11\times 13^{2}}
  .

History
The problem has a long and storied history. This section is based on historical work done at different times by Robin Wilson and by Louise Duffield Cummings. The history is as follows:

In 1844, Wesley Woolhouse, the editor of The Lady's and Gentleman's Diary at the time, asked the general question: "Determine the number of combinations that can be made out of n symbols, p symbols in each; with this limitation, that no combination of q symbols, which may appear in any one of them shall be repeated in any other." Only two answers were received, one incorrect and the other correctly answering the question with 
  
    
      
        
          
            
              n
              !
            
            
              q
              !
              (
              n
              −
              q
              )
              !
            
          
        
        ÷
        
          
            
              p
              !
            
            
              q
              !
              (
              p
              −
              q
              )
              !
            
          
        
      
    
    {\textstyle {\frac {n!}{q!(n-q)!}}\div {\frac {p!}{q!(p-q)!}}}
  . As the question did not ask for anything more than the number of combinations, nothing was received about the conditions on n, p, or q when such a solution could be achieved.In 1846, Woolhouse asked: "How many triads can be made out of n symbols, so that no pair of symbols shall be comprised more than once among them?". This is equivalent to repeating his 1844 question with the values p = 3 and q = 2.In 1847, at age 41, Thomas Kirkman published his paper titled On a Problem in Combinations (Kirkman 1847) which comprehensively described and solved the problem of constructing triple systems of order n where n = 1 or 3 (mod 6). He also considered other values of n even though perfect balance would not be possible. He gave two different sequences of triple systems, one for n = 7, 15, 19, 27, etc., and another for n = 9, 13, 25, etc. Using these propositions, he proved that triple systems exist for all values of n = 1 or 3 (mod 6) (not necessarily resolvable ones, but triple systems in general). He also described resolvable triple systems in detail in that paper, particularly for n = 9 and 15; resolvable triple systems are now known as Kirkman triple systems. He could not conclusively say for what other values of n would resolvable triple systems exist; that problem would not be solved until the 1960s (see below).In 1850, Kirkman posed the 15 schoolgirl problem, which would become much more famous than the 1847 paper he had already written. Several solutions were received. Kirkman himself gave a solution that later would be found to be isomorphic to Solution I above. Kirkman claimed it to be the only possible solution but that was incorrect. Arthur Cayley's solution would be later found to be isomorphic to Solution II. Both solutions could be embedded in PG(3,2) though that geometry was not known at the time. However, in publishing his solutions to the schoolgirl problem, Kirkman neglected to refer readers to his own 1847 paper, and this omission would have serious consequences for invention and priority as seen below.Also in 1850, James Joseph Sylvester asked if there could be 13 different solutions to the 15-schoolgirl problem that would use all 
  
    
      
        
          
            
              (
            
            
              15
              3
            
            
              )
            
          
        
        =
        455
      
    
    {\textstyle {15 \choose 3}=455}
   triples exactly once overall, observing that 
  
    
      
        455
        =
        13
        ×
        35
      
    
    {\displaystyle 455=13\times 35}
  . In words, is it possible for the girls to march every day for 13 weeks, such that every two girls march together exactly once each week and every three girls march together exactly once in the term of 13 weeks? This problem was much harder, and a computational solution would finally be provided in 1974 by RHF Denniston (see below).In 1852, Robert Richard Anstice provided a cyclic solution, made by constructing the first day's five triples to be 0Gg, AbC, aDE, cef, BdF on the 15 symbols 0ABCDEFGabcdefg and then cyclically shifting each subsequent day by one letter while leaving 0 unchanged (uppercase staying uppercase and lowercase staying lowercase). If the four triples without the 0 element (AbC, aDE, cef, BdF) are taken and uppercase converted to lowercase (abc, ade, cef, bdf) they form what would later be called the Pasch configuration. The Pasch configuration would become important in isomorph rejection techniques in the 20th century.In 1853, Jakob Steiner, completely unaware of Kirkman's 1847 paper, published his paper titled Combinatorische Aufgabe which reintroduced the concept of triple systems but did not mention resolvability into separate parallel classes. Steiner noted that it is necessary for n to be 1 or 3 (mod 6) but left an open question as to when this would be realized, unaware that Kirkman had already settled that question in 1847. As this paper was more widely read by the European mathematical establishment, triple systems later became known as Steiner triple systems.In 1859, Michel Reiss answered the questions raised by Steiner, using both methodology and notation so similar to Kirkman's 1847 work (without acknowledging Kirkman), that subsequent authors such as Louise Cummings have called him out for plagiarism. Kirkman himself expressed his bitterness.In 1860, Benjamin Peirce unified several disparate solutions presented thus far, and showed that there were three possible cyclic solution structures, one corresponding to Anstice's work, one based on Kirkman's solution, and one on Cayley's.In 1861, James Joseph Sylvester revisited the problem and tried to claim that he had invented it, and that his Cambridge lectures had been the source of Kirkman's work. Kirkman quickly rebuffed his claims, stating that when he wrote his papers he had never been to Cambridge or heard of Sylvester's work. This priority dispute led to a falling out between Sylvester and Kirkman.In 1861-1862, Kirkman had a falling out with Arthur Cayley over an unrelated matter (Cayley's choosing not to publish a series of papers by Kirkman on group theory and polyhedra which cost Kirkman recognition by the mathematical community in Europe), further contributing to his being sidelined by the mathematics establishment. His comprehensive 1847 paper in particular was forgotten, with many subsequent authors either crediting Steiner or Reiss, unaware of the history.The schoolgirl puzzle's popularity itself was unaffected by Kirkman's academic conflicts, and in the late 19th and early 20th centuries the puzzle appeared in several recreational mathematics books by Édouard Lucas, Rouse Ball, Wilhelm Ahrens, and Henry Dudeney. In his lifetime, Kirkman would complain about his serious mathematical work being eclipsed by the popularity of the schoolgirl problem. Kirkman died in 1895.In 1918, Kirkman's serious mathematical work was brought back to wider attention by Louise Duffield Cummings in a paper titled An Undervalued Kirkman Paper which discussed the early history of the field and corrected the historical omission.At about the same time, Cummings was working with Frank Nelson Cole and Henry Seely White on triple systems. This culminated in their famous and widely cited 1919 paper Complete classification of triad systems on 15 elements which was the first paper to lay out all 80 solutions to the Steiner triple system of size 15. These included both resolvable and non-resolvable systems.In 1922, Cole published his paper Kirkman Parades which listed for the first time all seven non-isomorphic solutions to the 15 schoolgirl problem, thus answering a long-standing question since the 1850s. The seven Kirkman solutions correspond to four different Steiner systems when resolvability into parallel classes is removed as a constraint. Three of the Steiner systems have two possible ways of being separated into parallel classes, meaning two Kirkman solutions each, while the fourth has only one, giving seven Kirkman solutions overall.In the 1960s, it was proved that Kirkman triple systems exist for all orders n = 3 (mod 6). This was first proved by Lu Jiaxi (Chinese: 陆家羲) in 1965, and he submitted it to Acta Mathematica Sinica but the journal erroneously thought the problem had been solved already and rejected his paper in 1966, which was later found to be a serious mistake. His subsequent academic contributions were disrupted by the Cultural Revolution and rejected again. In 1968, the generalized theorem was proven independently by D. K. Ray-Chaudhuri and R. M. Wilson.In 1974, RHF Denniston solved the Sylvester problem of constructing 13 disjoint Kirkman solutions and using them to cover all 455 triples on the 15 girls. His solution is discussed below.

Sylvester's problem
James Joseph Sylvester in 1850 asked if 13 disjoint Kirkman systems of 35 triples each could be constructed to use all 
  
    
      
        
          
            
              (
            
            
              15
              3
            
            
              )
            
          
        
        =
        455
      
    
    {\textstyle {15 \choose 3}=455}
   triples on 15 girls. No solution was found until 1974 when RHF Denniston at the University of Leicester constructed it with a computer. Denniston's insight was to create a single-week Kirkman solution in such a way that it could be permuted according to a specific permutation of cycle length 13 to create disjoint solutions for subsequent weeks; he chose a permutation with a single 13-cycle and two fixed points like (1 2 3 4 5 6 7 8 9 10 11 12 13)(14)(15). Under this permutation, a triple like 123 would map to 234, 345, ... (11, 12, 13), (12, 13, 1) and (13, 1, 2) before repeating. Denniston thus classified the 455 triples into 35 rows of 13 triples each, each row being the orbit of a given triple under the permutation. In order to construct a Sylvester solution, no single-week Kirkman solution could use two triples from the same row, otherwise they would eventually collide when the permutation was applied to one of them. Solving Sylvester's problem is equivalent to finding one triple from each of the 35 rows such that the 35 triples together make a Kirkman solution. He then asked an Elliott 4130 computer to do exactly that search, which took him 7 hours to find this first-week solution, labeling the 15 girls with the letters A to O:

Day 1 ABJ CEM FKL HIN DGO
Day 2 ACH DEI FGM JLN BKO
Day 3 ADL BHM GIK CFN EJO
Day 4 AEG BIL CJK DMN FHO
Day 5 AFI BCD GHJ EKN LMO
Day 6 AKM DFJ EHL BGN CIO
Day 7 BEF CGL DHK IJM ANO

He stopped the search at that point, not looking to establish uniqueness.The American minimalist composer Tom Johnson composed a piece of music called Kirkman's Ladies based on Denniston's solution.As of 2021, it is not known whether there are other non-isomorphic solutions to Sylvester's problem, or how many solutions there are.

9 schoolgirls and extensions
The equivalent of the Kirkman problem for 9 schoolgirls results in S(2,3,9), an affine plane isomorphic to the following triples on each day:

Day 1: 123 456 789
Day 2: 147 258 369
Day 3: 159 267 348
Day 4: 168 249 357

The corresponding Sylvester problem asks for 7 different S(2,3,9) systems of 12 triples each, together covering all 
  
    
      
        
          
            
              (
            
            
              9
              3
            
            
              )
            
          
        
        =
        84
      
    
    {\textstyle {9 \choose 3}=84}
   triples. This solution was known to Bays (1917) which was found again from a different direction by Earl Kramer and Dale Mesner in a 1974 paper titled Intersections Among Steiner Systems (J Combinatorial Theory, Vol 16 pp 273-285). There can indeed be 7 disjoint S(2,3,9) systems, and all such sets of 7 fall into two non-isomorphic categories of sizes 8640 and 6720, with 42 and 54 automorphisms respectively.

Solution 1:
             Day 1          Day 2          Day 3          Day 4
Week 1    ABC.DEF.GHI    ADG.BEH.CFI    AEI.BFG.CDH    AFH.BDI.CEG
Week 2    ABD.CEH.FGI    ACF.BGH.DEI    AEG.BCI.DFH    AHI.BEF.CDG
Week 3    ABE.CDI.FGH    ACG.BDF.EHI    ADH.BGI.CEF    AFI.BCH.DEG
Week 4    ABF.CEI.DGH    ACD.BHI.EFG    AEH.BCG.DFI    AGI.BDE.CFH
Week 5    ABG.CDE.FHI    ACH.BEI.DFG    ADI.BCF.EGH    AEF.BDH.CGI
Week 6    ABH.CDF.EGI    ACI.BDG.EFH    ADE.BFI.CGH    AFG.BCE.DHI
Week 7    ABI.CFG.DEH    ACE.BFH.DGI    ADF.BEG.CHI    AGH.BCD.EFI

Solution 1 has 42 automorphisms, generated by the permutations (A I D C F H)(B G) and (C F D H E I)(B G). Applying the 9! = 362880 permutations of ABCDEFGHI, there are 362880/42 = 8640 different solutions all isomorphic to Solution 1.

Solution 2:
             Day 1          Day 2          Day 3          Day 4
Week 1    ABC.DEF.GHI    ADG.BEH.CFI    AEI.BFG.CDH    AFH.BDI.CEG
Week 2    ABD.CEH.FGI    ACF.BGH.DEI    AEG.BCI.DFH    AHI.BEF.CDG
Week 3    ABE.CGH.DFI    ACI.BFH.DEG    ADH.BGI.CEF    AFG.BCD.EHI
Week 4    ABF.CGI.DEH    ACE.BDG.FHI    ADI.BCH.EFG    AGH.BEI.CDF
Week 5    ABG.CDI.EFH    ACH.BDF.EGI    ADE.BHI.CFG    AFI.BCE.DGH
Week 6    ABH.CEI.DFG    ACD.BFI.EGH    AEF.BCG.DHI    AGI.BDE.CFH
Week 7    ABI.CDE.FGH    ACG.BDH.EFI    ADF.BEG.CHI    AEH.BCF.DGI

Solution 2 has 54 automorphisms, generated by the permutations (A B D)(C H E)(F G I) and (A I F D E H)(B G). Applying the 9! = 362880 permutations of ABCDEFGHI, there are 362880/54 = 6720 different solutions all isomorphic to Solution 2.
Thus there are 8640 + 6720 = 15360 solutions in total, falling into two non-isomorphic categories.
In addition to S(2,3,9), Kramer and Mesner examined other systems that could be derived from S(5,6,12) and found that there could be up to 2 disjoint S(5,6,12) systems, up to 2 disjoint S(4,5,11) systems, and up to 5 disjoint S(3,4,10) systems. All such sets of 2 or 5 are respectively isomorphic to each other.

Larger systems and continuing research
In the 21st century, analogues of Sylvester's problem have been visited by other authors under terms like "Disjoint Steiner systems" or "Disjoint Kirkman systems" or "LKTS" (Large Sets of Kirkman Triple Systems), for n > 15. Similar sets of disjoint Steiner systems have also been investigated for the S(5,8,24) Steiner system in addition to triple systems.

Galois geometry
In 1910 the problem was addressed using Galois geometry by George Conwell.The Galois field GF(2) with two elements is used with four homogeneous coordinates to form PG(3,2) which has 15 points, 3 points to a line, 7 points and 7 lines in a plane. A plane can be considered a complete quadrilateral together with the line through its diagonal points. Each point is on 7  lines, and there are 35 lines in all.
The lines of PG(3,2) are identified by their Plücker coordinates in PG(5,2) with 63 points, 35 of which represent lines of PG(3,2). These 35 points form the surface S known as the Klein quadric. For each of the 28 points off S there are 6 lines through it which do not intersect S.: 67 As there are seven days in a week, the heptad is an important part of the solution:

When two points as A and B of the line ABC are chosen, each of the five other lines through A is met by only one of the five other lines through B. The five points determined by the intersections of these pairs of lines, together with the two points A and B we designate a "heptad".: 68 
A heptad is determined by any two of its points. Each of the 28 points off S lies in two heptads. There are 8 heptads.  The projective linear group PGL(3,2) is isomorphic the alternating group on the 8 heptads.: 69 The schoolgirl problem consists in finding seven lines in the 5-space which do not intersect and such that any two lines always have a heptad in common.: 74

Spreads and packing
In PG(3,2), a partition of the points into lines is called a spread, and a partition of the lines into spreads is called a packing or parallelism.: 66  There are 56 spreads and 240 packings. When Hirschfeld considered the problem in his Finite Projective Spaces of Three Dimensions (1985), he noted that some solutions correspond to packings of PG(3,2), essentially as described by Conwell above,: 91  and he presented two of them.: 75

Generalization
The problem can be generalized to 
  
    
      
        n
      
    
    {\displaystyle n}
   girls, where 
  
    
      
        n
      
    
    {\displaystyle n}
   must be an odd multiple of 3 (that is 
  
    
      
        n
        ≡
        3
        
          
          (
          mod
          
          6
          )
        
      
    
    {\displaystyle n\equiv 3{\pmod {6}}}
  ), walking in triplets for 
  
    
      
        
          
            1
            2
          
        
        (
        n
        −
        1
        )
      
    
    {\textstyle {\frac {1}{2}}(n-1)}
   days, with the requirement, again, that no pair of girls walk in the same row twice. The solution to this generalisation is a Steiner triple system, an S(2, 3, 6t + 3) with parallelism (that is, one in which each of the 6t + 3 elements occurs exactly once in each block of 3-element sets), known as a Kirkman triple system. It is this generalization of the problem that Kirkman discussed first, while the famous special case 
  
    
      
        n
        =
        15
      
    
    {\displaystyle n=15}
   was only proposed later. A complete solution to the general case was published by D. K. Ray-Chaudhuri and R. M. Wilson in 1968, though it had already been solved by Lu Jiaxi (Chinese: 陆家羲) in 1965, but had not been published at that time.Many variations of the basic problem can be considered.  Alan Hartman solves a problem of this type with the requirement that no trio walks in a row of four more than once using Steiner quadruple systems.
More recently a similar problem known as the Social Golfer Problem has gained interest that deals with 32 golfers who want to get to play with different people each day in groups of 4, over the course of 10 days.
As this is a regrouping strategy where all groups are orthogonal, this process within the problem of organising a large group into smaller groups where no two people share the same group twice can be referred to as orthogonal regrouping. The Resolvable Coverings problem considers the general 
  
    
      
        n
      
    
    {\displaystyle n}
   girls, 
  
    
      
        g
      
    
    {\displaystyle g}
   groups case where each pair of girls must be in the same group at some point, but we want to use as few days as possible. This can, for example, be used to schedule a rotating table plan, in which each pair of guests must at some point be at the same table.The Oberwolfach problem, of decomposing a complete graph into edge-disjoint copies of a given 2-regular graph, also generalizes Kirkman's schoolgirl problem. Kirkman's problem is the special case of the Oberwolfach problem in which the 2-regular graph consists of five disjoint triangles.

See also
Cooperative learning strategy for increasing interaction within classroom teaching
Dobble card game
Progressive dinner party designs
Speed Networking events
Sports Competitions
Combinatorics
R M Wilson
Dijen K. Ray-Chaudhuri
Discrete Mathematics

Notes
References
External links
Weisstein, Eric W. "Kirkman's schoolgirl problem". MathWorld.
Klarreich, Erica (June 9, 2015), "A design dilemma solved, minus designs.", Quanta Magazine
String (March, 2015) - Solution visualised, Stack Exchange