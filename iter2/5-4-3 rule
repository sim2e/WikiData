The 5-4-3 rule, also referred to as the IEEE way, is a design guideline for Ethernet computer networks covering the number of repeaters and segments on shared-medium Ethernet backbones in a tree topology. It means that in a collision domain there should be at most 5 segments tied together with 4 repeaters, with up to 3 mixing segments (10BASE5, 10BASE2, or 10BASE-FP). Link segments can be 10BASE-T, 10BASE-FL or 10BASE-FB. This rule is also designated the 5-4-3-2-1 rule with there being two link segments (without senders) and one collision domain.An alternate configuration rule, known as the Ethernet way, allows 2 repeaters on the single network and does not allow any hosts on the connection between repeaters.The rules were created when 10BASE5, 10BASE2 and FOIRL were the only types of Ethernet networks available.  The rules only apply to shared-medium 10 Mbit/s Ethernet segments connected by repeaters or repeater hubs (collisions domains) and FOIRL links.  The rules do not apply to switched Ethernet because each port on a switch constitutes a separate collision domain. With mixed repeated and switched networks, the rule's scope ends at a switched port.

Details
Collision detection
According to the original Ethernet protocol, a signal sent out over the collision domain must reach every part of the network within a specified length of time.  The 5-4-3 rule ensures this.  Each segment and repeater that a signal goes through adds a small amount of time to the process, so the rule is designed to minimize transmission times of the signals.
For the purposes of this rule, a segment is in accordance with the IEEE definition: an electrical connection between networked devices.In the original 10BASE5 and 10BASE2 Ethernet varieties, a segment would therefore correspond to a single coax cable and any devices tapped into it – a mixing segment. On modern twisted-pair Ethernet, a network segment corresponds to the individual connection between end station to network equipment or the connections between different pieces of network equipment. These connections generally use dedicated media for transmitting and receiving, simplifying collision detection.
This rule divides a collision domain into two types of physical segments: mixing segments, and link segments.  User segments can have users' systems connected to them.  Link segments (FOIRL, 10BASE-T, 10BASE-FL, or 10BASE-FB) are used to connect the network's repeaters together.  The rule mandates that there can only be a maximum of five segments, connected through four repeaters, or concentrators, and only three of the five segments may be mixing segments. This last requirement applies only to 10BASE5, 10BASE2, and 10BASE-FP Ethernet segments.

Preamble consumption
In addition to the necessity of reliable collision detection, a frame cannot be repeated too many times. A repeater normally listens for the 0101 preamble and then locks onto the bitstream.  Once locked on, it would then repeat each bit out the other port(s).  However, a number of bits would be consumed at the start while the repeater was locking onto the bit stream. As the frame propagated through each repeater the preamble would get shorter and shorter.  Too many bits lost meant that an end node may not have enough preamble bits to lock on and the entire frame would be missed.
Various repeaters (hubs) may use slightly different implementations and operate differently.  Each repeater would lose more or less bits while locking on, some could lose as many as 5 or 6 bits.  You could create a network with more repeaters if you made sure the total number of lost preamble bits would not exceed the requirements of the receiving hardware and collisions would not pose a problem.  Usually this detailed information is not easy to obtain and difficult for users to calculate.  The standard requires generation of sufficient preamble bits to make sure a frame can be received when operated within specification limits (i.e. applying the 5-4-3 rule).
In a lab at DEC they knew how many bits their repeaters would lose and knowing this were able to create an 11 segment, 10 repeater, 3 active segment (11-10-3) network that maintained a round trip delay of less than 51.2 μs and a sufficient number of preamble bits that all end nodes functioned properly.


== References ==