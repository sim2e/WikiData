GEM (for Graphics Environment Manager) is a discontinued operating environment released by Digital Research in 1985. GEM is known primarily as the native graphical user interface of the Atari ST series of computers, providing a WIMP desktop. It was also available for IBM PC compatibles and shipped with some models from Amstrad. GEM is used as the core for some commercial MS-DOS programs, the most notable being Ventura Publisher. It was ported to other computers that previously lacked graphical interfaces, but never gained traction. The final retail version of GEM was released in 1988.
Digital Research later produced X/GEM for their FlexOS real-time operating system with adaptations for OS/2 Presentation Manager and the X Window System under preparation as well.

History
GSX
In late 1984, GEM started life at DRI as an outgrowth of a more general-purpose graphics library known as GSX (Graphics System Extension), written by a team led by Don Heiskell since about 1982. Lee Lorenzen (at Graphic Software Systems) who had recently left Xerox PARC (the birthplace of the modern GUI) wrote much of the code. GSX was essentially a DRI-specific implementation of the GKS graphics standard proposed in the late 1970s. GSX was intended to allow DRI to write graphics programs (charting, etc.) for any of the 8-bit and 16-bit platforms CP/M-80, Concurrent CP/M, CP/M-86 and MS-DOS (NEC APC-III) would run on, a task that otherwise would have required considerable effort to port due to the large differences in graphics hardware (and concepts) between the various systems of that era.GSX consisted of two parts: a selection of routines for common drawing operations, and the device drivers that are responsible for handling the actual output. The former was known as GDOS (Graphics Device Operating System) and the latter as GIOS (Graphics Input/Output System), a play on the division of CP/M into the machine-independent BDOS (Basic Disk Operating System) and the machine-specific BIOS (Basic Input/Output System). GDOS was a selection of routines that handled the GKS drawing, while GIOS actually used the underlying hardware to produce the output.

Known 8-bit device drivers
DDMODE0 Amstrad CPC screen in mode 0
DDMODE1 Amstrad CPC screen in mode 1
DDMODE2 Amstrad CPC screen in mode 2
DDSCREEN Amstrad PCW screen
DDBBC0 BBC Micro screen in mode 0
DDBBC1 BBC Micro screen in mode 1
DDGDC, DDNCRDMV NEC µPD7220
DDVRET  VT100 + Retro-Graphics GEN.II (aka 4027/4010)
DDTS803 TeleVideo screen
DDHP26XX HP 2648 and 2627 terminals
DDQX10  QX-10 screen
DDFXLR8 Epson lo-res, 8-bit
DDFXHR8 Epson hi-res, 8-bit
DDFXLR7 Epson and Epson-compatible printers
DDCITOLR C. Itoh 8510A lo-res
DDCITOH C. Itoh 8510A
DD-DMP1 Amstrad DMP1 printer (aka Seikosha GP500M-2)
DDSHINWA Printers using Shinwa Industries mechanism
DDHP7470, DD7470 Hewlett-Packard HP 7470 and compatible pen plotters, HP-GL/2
DD7220 Hewlett-Packard HP 7220, HP-GL
DDGEN2  Retro-Graphics GEN.II (Ratfor source code in Programmer's Guide)
DDHI3M   Houston Instrument HiPlot DMP
DDHI7M Houston Instrument HiPlot DMP
DDMX80 Epson MX-80 + Graftrax Plus
DDESP Electric Studio Light Pen (Amstrad PCW)
DDOKI84 Oki Data Microline
DDMF GEM metafile
DDPS PostScript metafile

Known 16-bit device drivers
DDLA100 DEC
DDLA50 DEC
DDNECAPC NEC APC
NCRPC4 NCR DecisionMate V
IBMBLMP2, IBMBLMP3 IBM CGA monochrome mode
IBMBLCP2, IBMBLCP3 IBM CGA color mode
IBMCHMP6
IBMEHFP6, IBMEHMP6, IBMELFP6 IBM Enhanced Graphics Adapter
HERMONP2, IBMHERP3, HERMONP6, Hercules Graphics Card (720×348)
UM85C408AF UMC VGA Graphics
DDIDSM IDS Monochrome
DDANADXM Anadex DP-9501 and DP-9001A
DDCITOLR C. Itoh 8510A lo-res
DDCNTXM Centronics 351, 352 and 353
DDDS180 Datasouth
DDOKI84 Oki Data Microline
DDPMVP   Printronix MVP
DD3EPSNL IBM/Epson FX-80 lo-res Printer (see DDFXLR7 and DDFXLR8)
DD3EPSNH IBM/Epson FX-80 hi-res Printer (see DDFXHR8)
DD75XHM1 Regnecentralen RC759 Piccoline
DDGSXM Metafile
EPSMONH6
IBMHP743 Hewlett-Packard 7470A/7475A Plotter (see DDHP7470 and DD7470)
METAFIL6 Metafile
PALETTE Polaroid cameraThe DOS version of GSX supports loading drivers in the CP/M-86 CMD format. Consequently, the same driver binary may operate under both CP/M-86 and DOS.

GEM
Intel versions
The 16-bit version of GSX 1.3 evolved into one part of what would later be known as GEM, which was an effort to build a full GUI system using the earlier GSX work as its basis. Originally known as Crystal as a play on an IBM project called Glass, the name was later changed to GEM.
Under GEM, GSX became GEM VDI (Virtual Device Interface), responsible for basic graphics and drawing. VDI also added the ability to work with multiple fonts and added a selection of raster drawing commands to the formerly vector-only GKS-based drawing commands. VDI also added multiple viewports, a key addition for use with windows.A new module, GEM AES (Application Environment Services), provided the window management and UI elements, and GEM Desktop used both libraries in combination to provide a GUI. The 8086 version of the entire system was first officially demoed at COMDEX in November 1984, following a demonstration on the 80286-based Acorn Business Computer in September 1984 where the software had been attributed to Acorn, and the system was shipped as GEM/1 on 28 February 1985.

GEM/1
GEM Desktop 1.0 was released on 28 February 1985.GEM Desktop 1.1 was released on 10 April 1985 with support for CGA and EGA displays.
A version for the Apricot Computers F-Series, supporting 640×200 in up to 8 colors, was also available as GEM Desktop 1.2.Digital Research also positioned Concurrent DOS 4.1 with GEM as alternative for IBM's TopView.DRI originally designed GEM for DOS so that it would check for and only run on IBM computers, and not PC compatibles like those from Compaq, as the company hoped to receive license fees from compatible makers. Developers reacted with what BYTE described as "a small explosion"; it reported that at a DRI-hosted seminar in February 1985, more than half of the attendees agreed that GEM's incompatibility with Compaq was a serious limitation. Later that month the company removed the restriction. Applications that supported GEM included Lifetree Software's GEM Write.At this point, Apple Computer sued DRI in what would turn into a long dispute over the "look and feel" of the GEM/1 system, which was an almost direct copy of Macintosh (with some elements bearing a closer resemblance to those in the earlier Lisa, available since January 1983). This eventually led to DRI being forced to change several basic features of the system. (See also: Apple v. Digital Research.) Apple would later go on to sue other companies for similar issues, including their copyright lawsuit against Microsoft and HP.
In addition to printers the system also contained drivers for some more unusual devices such as the Polaroid Palette.

GEM/2
DRI responded with the "lawsuit-friendly" GEM Desktop 2.0, released on 24 March 1986, with support for VGA displays. It allowed the display of only two fixed windows on the "desktop" (though other programs could do what they wished), changed the trash can icon, and removed the animations for things like opening and closing windows. It was otherwise similar to GEM/1, but also included a number of bug fixes and cosmetic improvements.
In 1988 Stewart Alsop II said that GEM was among several GUIs that "have already been knocked out" of the market by Apple, IBM/Microsoft, and others.

GEM XM
GEM XM with "GEM Desktop 3.0" was an updated version of GEM/2 in 1986/1987 for DOS (including DOS Plus) which allowed task-switching and the ability to run up to ten GEM and DOS programs at once, swapping out to expanded memory (XM) through EMS/EEMS or to disk (including RAM disks, thereby also allowing the use of extended memory). Data could be copied and pasted between applications through a clipboard with filter function (a feature later also found in TaskMAX under DR DOS 6.0). Digital Research planned to offer GEM XM as an option to GEM Draw Plus users and through OEM channels.The GEM XM source code is now freely available under the terms of GNU General Public License.

GEM/3
The last retail release was GEM/3 Desktop, released on 3 November 1988, which had speed improvements and shipped with a number of basic applications. Commercial sales of GEM ended with GEM/3; the source code was subsequently made available to a number of DRI's leading customers.
While GEM/2 for the PC still provided a GSX API in addition to the GEM API; GEM/3 no longer did.

GEM/4 for CCP Artline
GEM/4, released in 1990, included the ability to work with Bézier curves, a feature still not commonly found outside the PostScript world. This version was produced specifically for Artline 2, a drawing program from the German company CCP Development GmbH.The system also included changes to the font management system, which made it incompatible with the likes of Timeworks Publisher.
Artline 1 still ran on GEM 3.1.

GEM/5 for GST Timeworks Publisher
Another version of GEM called GEM/5 was produced by GST Software Products for Timeworks Publisher 2.1. It contained an updated look with 3D buttons, along with features such as on-the-fly font scaling. It came complete with all the standard GEM 3.1 tools. This version was produced from GEM 3.13 with only the Bézier handling taken from GEM/4.

ViewMAX for DR DOS
GEM Desktop itself was spun off in 1990 as a product known as ViewMAX which was used solely as a file management shell under DR DOS. In this form the system could not run other GEM programs. This led to a situation where a number of applications (including ViewMAX) could exist all with their own statically linked copy of the GEM system. This scenario was actually rare, as few native GEM programs were published. In 1991, ViewMAX 2 was released.
In these forms, GEM survived until DRI was purchased by Novell in June 1991 and all GEM development was cancelled.

X/GEM
Throughout this time DRI had also been working on making the GEM system capable of multitasking. This started with X/GEM based on GEM/1, but this required use of one of the multitasking CP/M-based operating systems. DRI also produced X/GEM for their FlexOS real-time operating system with adaptations for OS/2 Presentation Manager and the X Window System under preparation as well.

Ventura Publisher
Lee Lorenzen left soon after the release of GEM/1, when it became clear that DRI had no strong interest in application development. He then joined with two other former DRI employees, Don Heiskell and John Meyer, to start Ventura Software. They developed Ventura Publisher (which was later marketed by Xerox and eventually by Corel), which would go on to be a very popular desktop publishing program for some time.

Atari versions
Development of the production 68000 version of GEM began in September 1984, when Atari sent a team called "The Monterey Group" to Digital Research to begin work on porting GEM. Originally, the plan was to run GEM on top of CP/M-68K, both ostensibly ported to Motorola 68000 by DRI prior to the ST design being created. In fact, these ports were unusable and would require considerable development. Digital Research also offered GEMDOS (originally written as GEM DOS), a DOS-like operating system aimed to port GEM to different hardware platforms. It was available for 8086 and 68000 processors and had been adapted to the Apple Lisa 2/5 and the Motorola VME/10 development system. Atari decided in January 1985 to give up on the existing CP/M-68K code and instead port GEMDOS to the Atari ST platform, referring to it as TOS.As Atari had provided most of the development of the 68000 version, they were given full rights to continued developments without needing to reverse-license it back to DRI. As a result, the Apple-DRI lawsuit did not apply to the Atari versions of GEM, and they were allowed to keep a more Mac-like UI.
Over the next seven years, from 1985 to 1992, new versions of TOS were released with each new generation of the ST line. Updates included support for more colors and higher resolutions in the raster-side of the system, but remained generally similar to the original in terms of GKS support. In 1992 Atari released TOS 4, or MultiTOS, along with their final computer system, the Falcon030. In combination with MiNT, TOS 4 allowed full multitasking support in GEM.

Continued development
When Caldera bought the remaining Digital Research assets from Novell on 23 July 1996, initial plans were to revive GEM and ViewMAX technologies for a low-footprint user interface for OpenDOS in mobile applications as Caldera View, but these plans were abandoned by Caldera UK in favour of DR-WebSpyder and GROW. Caldera Thin Clients (later known as Lineo) released the source to GEM and GEM XM under the terms of GNU GPL-2.0-only in April 1999. The development of GEM for PC continues as FreeGEM and OpenGEM.
On the Atari ST platform, the original DRI sources were ported again to be used in the free and open source TOS clone EmuTOS.  New implementations of the AES portions of GEM have been implemented from scratch in the form of XaAES, and MyAES, both of which are fully re-entrant and support multitasking on top of the FreeMiNT multitasking extensions to TOS.

Description
The "full" GEM system consisted of three main parts:

GEM VDI (Virtual Device Interface)
GEM AES (Application Environment Services)
GEM Desktop (an application providing drag-and-drop file management)GEM VDI was the core graphics system of the overall GEM engine. It was responsible for "low level" drawing in the form of "draw line from here to here". VDI included a resolution and coordinate independent set of vector drawing instructions which were called from applications through a fairly simple interface. VDI also included environment information (state, or context), current color, line thickness, output device, etc.
These commands were then examined by GDOS, whose task it was to send the commands to the proper driver for actual rendering. For instance, if a particular GEM VDI environment was connected to the screen, the VDI instructions were then routed to the screen driver for drawing. Simply changing the environment to point to the printer was all that was needed (in theory) to print, dramatically reducing the developer workload (they formerly had to do printing "by hand" in all applications). GDOS was also responsible for loading up the drivers and any requested fonts when GEM was first loaded.
One major advantage VDI provided over the Macintosh was the way multiple devices and contexts were handled. In the Mac such information was stored in memory inside the application. This resulted in serious problems when attempting to make the Mac handle pre-emptive multitasking, as the drawing layer (QuickDraw) needed to have direct memory access into all programs. In GEM VDI however, such information was stored in the device itself, with GDOS creating "virtual devices" for every context – each window for instance.
GEM AES provided the window system, window manager, UI style and other GUI elements (widgets). For performance reasons, many of the GUI widgets were actually drawn using character graphics. Compared to the Macintosh, AES provided a rather spartan look and the system shipped with a single monospaced font.
AES performs its operations by calling the VDI, but in a more general sense the two parts of GEM were often completely separated in applications. Applications typically called AES commands to set up a new window, with the rest of the application using VDI calls to actually draw into that window.
GEM Desktop was an application program that used AES to provide a file manager and launcher, the traditional "desktop" environment that users had come to expect from the Macintosh. Unlike the Macintosh, the GEM Desktop ran on top of DOS (MS-DOS, DOS Plus or DR DOS on the PC, GEMDOS on the Atari), and as a result the actual display was cluttered with computer-like items, including path names and wildcards. In general, GEM was much more "geeky" than the Mac, but simply running a usable shell on DOS was a huge achievement on its own. Otherwise, GEM has its own advantages over Mac OS such as proportional sliders.
Native PC GEM applications use the file extension .APP for executables, whereas GEM desktop accessories use the file extension .ACC instead. All desktop accessories (and also a few simple applications) can be run under ViewMAX without modification.

See also
Atari TOS
EmuTOS
FreeGEM
OpenGEM
GEM character set
Atari ST character set
Resource construction set (RCS)
Pantone Color Computer Graphics

References
Further reading
Apricot Portable - Technical Reference Manual. Vol. Section 3: Software. ACT (International) Limited. 1984. Retrieved 2020-01-13. [5][6] (228 pages)
GSX Graphics Extension - Programmer's Guide (PDF) (2 ed.). Digital Research Inc. September 1983. 5000-2024. Archived (PDF) from the original on 2020-02-11. Retrieved 2020-01-13. [7][8][9]

External links

GEM - history, documentation and links to various open-source GEM projects
GEM (desktop environment) at Curlie
Afros - a distribution of Atari OS components (consisting of for example EmuTOS), aimed specifically at ARAnyM
Aranym Atari Running on Any Machine: an open source emulator/virtual machine that can run Atari GEM applications
"GEM : THE PROJECT".
Creating of TOS (part 1) Archived 2011-05-12 at the Wayback Machine Landon Dyer, one of original member of "The Monterey Group"
Creating of TOS (part 2) Archived 2010-09-21 at the Wayback Machine Landon Dyer, one of original member of "The Monterey Group"
GEM demo 1985 Most of the program is about the MAC
John C. Elliott. "Intel GEM main page".