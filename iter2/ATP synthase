ATP synthase is a protein that catalyzes the formation of the energy storage molecule adenosine triphosphate (ATP) using adenosine diphosphate (ADP) and inorganic phosphate (Pi). ATP synthase is a molecular machine. The overall reaction catalyzed by ATP synthase is:

ADP + Pi + 2H+out ⇌ ATP + H2O + 2H+inATP synthase lies across a cellular membrane and forms an aperture that protons can cross from areas of high concentration to areas of low concentration, imparting energy for the synthesis of ATP. This electrochemical gradient is generated by the electron transport chain and allows cells to store energy in ATP for later use. In  prokaryotic cells ATP synthase lies across the plasma membrane, while in  eukaryotic cells it lies across the inner mitochondrial membrane. Organisms capable of photosynthesis also have ATP synthase across the thylakoid membrane, which in plants is located in the chloroplast and in cyanobacteria is located in the cytoplasm.
Eukaryotic ATP synthases are F-ATPases, running "in reverse" for an ATPase. This article deals mainly with this type. An F-ATPase consists of two main subunits, FO and F1, which has a rotational motor mechanism allowing for ATP production.

Nomenclature
The F1 fraction derives its name from the term "Fraction 1" and FO (written as a subscript letter "o", not "zero") derives its name from being the binding fraction for oligomycin, a type of naturally derived antibiotic that is able to inhibit the FO unit of ATP synthase. These functional regions consist of different protein subunits — refer to tables. This enzyme is used in synthesis of ATP through aerobic respiration.

Structure and function
Located within the thylakoid membrane and the inner mitochondrial membrane, ATP synthase consists of two regions FO and F1. FO causes rotation of F1 and is made of c-ring and subunits a, two b, F6. F1 is made of α, β, γ, and δ subunits. F1 has a water-soluble part that can hydrolyze ATP. FO on the other hand has mainly hydrophobic regions. FO F1 creates a pathway for protons movement across the membrane.

F1 region
The F1 portion of ATP synthase is hydrophilic and responsible for hydrolyzing ATP. The F1 unit protrudes into the mitochondrial matrix space. Subunits α and β make a hexamer with 6 binding sites. Three of them are catalytically inactive and they bind ADP.
Three other subunits catalyze the ATP synthesis. The other F1 subunits γ, δ, and ε are a part of a rotational motor mechanism (rotor/axle). The γ subunit allows β to go through conformational changes (i.e., closed, half open, and open states) that allow for ATP to be bound and released once synthesized. The F1 particle is large and can be seen in the transmission electron microscope by negative staining. These are particles of 9 nm diameter that pepper the inner mitochondrial membrane.

FO region
FO is a water insoluble protein with eight subunits and a transmembrane ring. The ring has a tetrameric shape with a helix-loop-helix protein that goes through conformational changes when protonated and deprotonated, pushing neighboring subunits to rotate, causing the spinning of FO which then also affects conformation of F1, resulting in switching of states of alpha and beta subunits. The FO region of ATP synthase is a proton pore that is embedded in the mitochondrial membrane. It consists of three main subunits, a, b, and c. Six c subunits make up the rotor ring, and subunit b makes up a stalk connecting to F1 OSCP that prevents the αβ hexamer from rotating. Subunit a connects b to the c ring. Humans have six additional subunits, d, e, f, g, F6, and 8 (or A6L). This part of the enzyme is located in the mitochondrial inner membrane and couples proton translocation to the rotation that causes ATP synthesis in the F1 region.
In eukaryotes, mitochondrial FO forms membrane-bending dimers. These dimers self-arrange into long rows at the end of the cristae, possibly the first step of cristae formation. An atomic model for the dimeric yeast FO region was determined by cryo-EM at an overall resolution of 3.6 Å.

Binding model
In the 1960s through the 1970s, Paul Boyer, a UCLA Professor, developed the binding change, or flip-flop, mechanism theory, which postulated that ATP synthesis is dependent on a conformational change in ATP synthase generated by rotation of the gamma subunit. The research group of John E. Walker, then at the MRC Laboratory of Molecular Biology in Cambridge, crystallized the F1 catalytic-domain of ATP synthase. The structure, at the time the largest asymmetric protein structure known, indicated that Boyer's rotary-catalysis model was, in essence, correct. For elucidating this, Boyer and Walker shared half of the 1997 Nobel Prize in Chemistry.
The crystal structure of the F1 showed alternating alpha and beta subunits (3 of each), arranged like segments of an orange around a rotating asymmetrical gamma subunit. According to the current model of ATP synthesis (known as the alternating catalytic model), the transmembrane potential created by (H+) proton cations supplied by the electron transport chain, drives the (H+) proton cations from the intermembrane space through the membrane via the FO region of ATP synthase. A portion of the FO (the ring of c-subunits) rotates as the protons pass through the membrane. The c-ring is tightly attached to the asymmetric central stalk (consisting primarily of the gamma subunit), causing it to rotate within the alpha3beta3 of F1 causing the 3 catalytic nucleotide binding sites to go through a series of conformational changes that lead to ATP synthesis. The major F1 subunits are prevented from rotating in sympathy with the central stalk rotor by a peripheral stalk that joins the alpha3beta3 to the non-rotating portion of FO. The structure of the intact ATP synthase is currently known at low-resolution from electron cryo-microscopy (cryo-EM) studies of the complex. The cryo-EM model of ATP synthase suggests that the peripheral stalk is a flexible structure that wraps around the complex as it joins F1 to FO. Under the right conditions, the enzyme reaction can also be carried out in reverse, with ATP hydrolysis driving proton pumping across the membrane.
The binding change mechanism involves the active site of a β subunit's cycling between three states. In the "loose" state, ADP and phosphate enter the active site; in the adjacent diagram, this is shown in pink. The enzyme then undergoes a change in shape and forces these molecules together, with the active site in the resulting "tight" state (shown in red) binding the newly produced ATP molecule with very high affinity. Finally, the active site cycles back to the open state (orange), releasing ATP and binding more ADP and phosphate, ready for the next cycle of ATP production.

Physiological role
Like other enzymes, the activity of F1FO ATP synthase is reversible. Large-enough quantities of ATP cause it to create a transmembrane proton gradient, this is used by fermenting bacteria that do not have an electron transport chain, but rather hydrolyze ATP to make a proton gradient, which they use to drive flagella and the transport of nutrients into the cell.
In respiring bacteria under physiological conditions, ATP synthase, in general, runs in the opposite direction, creating ATP while using the proton motive force created by the electron transport chain as a source of energy. The overall process of creating energy in this fashion is termed oxidative phosphorylation.
The same process takes place in the mitochondria, where ATP synthase is located in the inner mitochondrial membrane and the F1-part projects into the mitochondrial matrix. By pumping proton cations into the matrix, the ATP-synthase converts ADP into ATP.

Evolution
The evolution of ATP synthase is thought to have been modular whereby two functionally independent subunits became associated and gained new functionality. This association appears to have occurred early in evolutionary history, because essentially the same structure and activity of ATP synthase enzymes are present in all kingdoms of life. The F-ATP synthase displays high functional and mechanistic similarity to the V-ATPase. However, whereas the F-ATP synthase generates ATP by utilising a proton gradient, the V-ATPase generates a proton gradient at the expense of ATP, generating pH values of as low as 1.The F1 region also shows significant similarity to hexameric DNA helicases (especially the Rho factor), and the entire enzyme region shows some similarity to H+-powered T3SS or flagellar motor complexes. The α3β3 hexamer of the F1 region shows significant structural similarity to hexameric DNA helicases; both form a ring with 3-fold rotational symmetry with a central pore. Both have roles dependent on the relative rotation of a macromolecule within the pore; the DNA helicases use the helical shape of DNA to drive their motion along the DNA molecule and to detect supercoiling, whereas the α3β3 hexamer uses the conformational changes through the rotation of the γ subunit to drive an enzymatic reaction.The H+ motor of the FO particle shows great functional similarity to the H+ motors that drive flagella. Both feature a ring of many small alpha-helical proteins that rotate relative to nearby stationary proteins, using a H+ potential gradient as an energy source. This link is tenuous, however, as the overall structure of flagellar motors is far more complex than that of the FO particle and the ring with about 30 rotating proteins is far larger than the 10, 11, or 14 helical proteins in the FO complex. More recent structural data do however show that the ring and the stalk are structurally similar to the F1 particle.
The modular evolution theory for the origin of ATP synthase suggests that two subunits with independent function, a DNA helicase with ATPase activity and a H+ motor, were able to bind, and the rotation of the motor drove the ATPase activity of the helicase in reverse. This complex then evolved greater efficiency and eventually developed into today's intricate ATP synthases. Alternatively, the DNA helicase/H+ motor complex may have had H+ pump activity with the ATPase activity of the helicase driving the H+ motor in reverse. This may have evolved to carry out the reverse reaction and act as an ATP synthase.

Inhibitors
A variety of natural and synthetic inhibitors of ATP synthase have been discovered. These have been used to probe the structure and mechanism of ATP synthase. Some may be of therapeutic use. There are several classes of ATP synthase inhibitors, including peptide inhibitors, polyphenolic phytochemicals, polyketides, organotin compounds, polyenic α-pyrone derivatives, cationic inhibitors, substrate analogs, amino acid modifiers, and other miscellaneous chemicals. Some of the most commonly used ATP synthase inhibitors are oligomycin and DCCD.

In different organisms
Bacteria
E. coli ATP synthase is the simplest known form of ATP synthase, with 8 different subunit types.Bacterial F-ATPases can occasionally operate in reverse, turning them into an ATPase. Some bacteria have no F-ATPase, using an A/V-type ATPase bidirectionally.

Yeast
Yeast ATP synthase is one of the best-studied eukaryotic ATP synthases; and five F1, eight FO subunits, and seven associated proteins have been identified. Most of these proteins have homologues in other eukaryotes.

Plant
In plants, ATP synthase is also present in chloroplasts (CF1FO-ATP synthase). The enzyme is integrated into thylakoid membrane; the CF1-part sticks into stroma, where dark reactions of photosynthesis (also called the light-independent reactions or the Calvin cycle) and ATP synthesis take place. The overall structure and the catalytic mechanism of the chloroplast ATP synthase are almost the same as those of the bacterial enzyme. However, in chloroplasts, the proton motive force is generated not by respiratory electron transport chain but by primary photosynthetic proteins. The synthase has a 40-aa insert in the gamma-subunit to inhibit wasteful activity when dark.

Mammal
The ATP synthase isolated from bovine (Bos taurus) heart mitochondria is, in terms of biochemistry and structure, the best-characterized ATP synthase. Beef heart is used as a source for the enzyme because of the high concentration of mitochondria in cardiac muscle. Their genes have close homology to human ATP synthases.Human genes that encode components of ATP synthases:

ATP5A1
ATP5B
ATP5C1, ATP5D, ATP5E, ATP5F1, ATP5G1, ATP5G2, ATP5G3, ATP5H, ATP5I, ATP5J, ATP5J2, ATP5L, ATP5O
MT-ATP6, MT-ATP8

Other eukaryotes
Eukaryotes belonging to some divergent lineages have very special organizations of the ATP synthase. A euglenozoa ATP synthase forms a dimer with a boomerang-shaped F1 head like other mitochondrial ATP synthases, but the FO subcomplex has many unique subunits. It uses cardiolipin. The inhibitory IF1 also binds differently, in a way shared with trypanosomatida.

Archaea
Archaea do not generally have an F-ATPase. Instead, they synthesize ATP using the A-ATPase/synthase, a rotary machine structurally similar to the V-ATPase but mainly functioning as an ATP synthase. Like the bacteria F-ATPase, it is believed to also function as an ATPase.

LUCA and earlier
F-ATPase gene linkage and gene order are widely conserved across ancient prokaryote lineages, implying that this system already existed at a date before the last universal common ancestor, the LUCA.

See also
References
Further reading
Nick Lane: The Vital Question: Energy, Evolution, and the Origins of Complex Life, Ww Norton, 2015-07-20, ISBN 978-0393088816 (Link points to Figure 10 showing model of ATP synthase)

External links
Boris A. Feniouk: "ATP synthase — a splendid molecular machine"
Well illustrated ATP synthase lecture by Antony Crofts of the University of Illinois at Urbana–Champaign.
Proton and Sodium translocating F-type, V-type and A-type ATPases in OPM database
The Nobel Prize in Chemistry 1997 to Paul D. Boyer and John E. Walker for the enzymatic mechanism of synthesis of ATP; and to Jens C. Skou, for discovery of an ion-transporting enzyme, Na+, K+-ATPase.
Harvard Multimedia Production Site — Videos – ATP synthesis animation
David Goodsell: "ATP Synthase- Molecule of the Month" Archived 2015-09-05 at the Wayback Machine